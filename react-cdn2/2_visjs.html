<!DOCTYPE html>
<html lang="ja">
<!--
  Vis Network
  https://visjs.github.io/vis-network/examples/
-->
<head>
  <title>ReactCDN</title>
  <meta charset="utf-8">
  <meta name="viewport" content="initail-scale=1, width=device-width">
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@mui/material@latest/umd/material-ui.development.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.6/standalone/umd/vis-network.min.js" integrity="sha512-OwMVEyxgfpnZtZDE4ZH1/SB3Xgvx5CwX+/xJJx7men0Vh6VjWp4uEytx34AHQKbh+Ve4KogeyYqZbujEmAQXLA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style type="text/css">
    #mynetwork {
      width: 600px;
      height: 400px;
      border: 1px solid lightgray;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <script type="text/babel">
    const { useState, useEffect } = React
    const { Container, Card, CardHeader, CardContent } = MaterialUI

    const App = () => {
      const [container, setContainer] = useState(null)
      const [chart, setChart] = useState(null)

      // コンポーネントの初期化完了後にコンテナを登録
      useEffect(() => {
        setContainer(document.getElementById("mynetwork"))
      }, [])

      // コンテナ登録後に描画
      useEffect(() => {
        if (!container) return
        // create an array with nodes
        var nodes = new vis.DataSet([
          { id: 1, label: "Node 1" },
          { id: 2, label: "Node 2" },
          { id: 3, label: "Node 3" },
          { id: 4, label: "Node 4" },
          { id: 5, label: "Node 5" },
        ])

        // create an array with edges
        var edges = new vis.DataSet([
          { from: 1, to: 3 },
          { from: 1, to: 2 },
          { from: 2, to: 4 },
          { from: 2, to: 5 },
          { from: 3, to: 3 },
        ])
        var data = {
          nodes: nodes,
          edges: edges,
        }
        var options = {}
        var network = new vis.Network(container, data, options)
      }, [container])


      return (
        <Container>
          <Card sx={{ width: 800 }}>
            <CardHeader title="vis.network" />
            <CardContent>
              <div id="mynetwork"></div>
            </CardContent>
          </Card>
        </Container>
      )
    }
    const container = document.getElementById("app")
    const root = ReactDOM.createRoot(container)
    root.render(<App />)
  </script>
</body>

</html>
